{% extends "base.html" %}

{% block content %}
<div class="trace-detail" data-trace-id="{{ trace_id }}">
    <h1>Trace Detail: <span class="trace-id">{{ trace_id }}</span></h1>
    
    <div class="execution-tree">
        <h2>Execution Tree</h2>
        <div class="tree-container" id="execution-tree"></div>
    </div>
    
    <div class="detail-panels">
        <div class="events-panel">
            <h2>Events</h2>
            <div id="event-list"></div>
        </div>
        
        <div class="artifacts-panel">
            <h2>Artifacts</h2>
            <div id="artifact-list"></div>
        </div>
    </div>
</div>

<script>
// JavaScript to load and render trace data
document.addEventListener('DOMContentLoaded', function() {
    const traceId = document.querySelector('.trace-detail').dataset.traceId;
    
    // Load trace data
    fetch(`/api/traces/${traceId}`)
        .then(response => response.json())
        .then(data => {
            renderExecutionTree(data);
            bindEventListeners(data);
        });
    
    // Render functions would go here
    function renderExecutionTree(data) {
        // Implement tree rendering logic
    }
    
    function bindEventListeners(data) {
        // Implement click handlers
    }
});
</script>
{% endblock %}